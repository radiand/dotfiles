_venv() {
    if [ ! -d './venv' ]; then
        $1 -m venv venv
    fi

    if [ ! -f ./.ycm_extra_conf.py ]; then
cat << EOF >> ./.ycm_extra_conf.py
def Settings( **kwargs ):
    return {
        "interpreter_path": "$PWD/venv/bin/python"
    }
EOF
    fi

    . venv/bin/activate
}

venv() {
    _venv "python3"
}

venv310() {
    _venv "python3.10"
}

venv_recreate() {
    deactivate
    rm -rf venv
    venv
}

venv310_recreate() {
    deactivate
    rm -rf venv
    venv310
}

pyclean() {
    find . -type f -name '*.py[co]' -delete -o -type d -name __pycache__ -delete
}
